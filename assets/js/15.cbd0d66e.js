(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{435:function(s,n,a){"use strict";a.r(n);var t=a(0),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"sqlまとめ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sqlまとめ"}},[s._v("#")]),s._v(" SQLまとめ")]),s._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#共通定義"}},[s._v("共通定義")]),n("ul",[n("li",[n("a",{attrs:{href:"#記載について"}},[s._v("記載について")])])])]),n("li",[n("a",{attrs:{href:"#select-statement-clause"}},[s._v("SELECT (statement, clause)")]),n("ul",[n("li",[n("a",{attrs:{href:"#from-clause"}},[s._v("FROM (clause)")])]),n("li",[n("a",{attrs:{href:"#列エイリアスas-clause"}},[s._v("列エイリアスAS (clause)")])]),n("li",[n("a",{attrs:{href:"#order-by-clause"}},[s._v("ORDER BY (clause)")])]),n("li",[n("a",{attrs:{href:"#distinct-clause-operator"}},[s._v("DISTINCT (clause, operator)")])]),n("li",[n("a",{attrs:{href:"#where-clause"}},[s._v("WHERE (clause)")])]),n("li",[n("a",{attrs:{href:"#limit-clause-limit-offset-clause"}},[s._v("LIMIT(clause), LIMIT OFFSET(clause)")])]),n("li",[n("a",{attrs:{href:"#fetch-clause-offset-fetch-clause"}},[s._v("FETCH (clause), OFFSET FETCH (clause)")])]),n("li",[n("a",{attrs:{href:"#join系"}},[s._v("JOIN系")]),n("ul",[n("li",[n("a",{attrs:{href:"#inner-join句"}},[s._v("INNER JOIN句")])]),n("li",[n("a",{attrs:{href:"#left-join句-left-outer-join句"}},[s._v("LEFT JOIN句 (LEFT OUTER JOIN句)")])]),n("li",[n("a",{attrs:{href:"#full-outer-join句"}},[s._v("FULL OUTER JOIN句")])]),n("li",[n("a",{attrs:{href:"#self-join"}},[s._v("SELF JOIN")])]),n("li",[n("a",{attrs:{href:"#cross-join句"}},[s._v("CROSS JOIN句")])])])]),n("li",[n("a",{attrs:{href:"#テーブルエイリアスas-clause"}},[s._v("テーブルエイリアスAS (clause)")])]),n("li",[n("a",{attrs:{href:"#group-by-clause"}},[s._v("GROUP BY (clause)")]),n("ul",[n("li",[n("a",{attrs:{href:"#grouping-sets"}},[s._v("GROUPING SETS")])]),n("li",[n("a",{attrs:{href:"#grouping-function"}},[s._v("GROUPING (function)")])]),n("li",[n("a",{attrs:{href:"#cube"}},[s._v("CUBE")])]),n("li",[n("a",{attrs:{href:"#rollup"}},[s._v("ROLLUP")])])])]),n("li",[n("a",{attrs:{href:"#having-clause"}},[s._v("HAVING (clause)")])]),n("li",[n("a",{attrs:{href:"#union-operator"}},[s._v("UNION (operator)")])]),n("li",[n("a",{attrs:{href:"#intersect-operator"}},[s._v("INTERSECT (operator)")])]),n("li",[n("a",{attrs:{href:"#except"}},[s._v("EXCEPT")])])])])])]),n("p"),s._v(" "),n("h2",{attrs:{id:"共通定義"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#共通定義"}},[s._v("#")]),s._v(" 共通定義")]),s._v(" "),n("p",[s._v("この記事ではPostgreSQLを使用しています。")]),s._v(" "),n("h3",{attrs:{id:"記載について"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#記載について"}},[s._v("#")]),s._v(" 記載について")]),s._v(" "),n("p",[s._v("句 (clause)")]),s._v(" "),n("ul",[n("li",[s._v("文、又はクエリの構成要素。")]),s._v(" "),n("li",[s._v("これで改行すると個人的にスッキリする。"),n("br"),s._v("\n文 (statement)")]),s._v(" "),n("li",[s._v("一つの実行の単位となるSQL。")]),s._v(" "),n("li",[s._v("文の末尾には';'を付けることができる(製品によっては付けないといけない)")]),s._v(" "),n("li",[s._v("そのまとまりが実行できるなら、文と称しても問題ない。"),n("br"),s._v("\n式 (experssion)")]),s._v(" "),n("li",[s._v("スカラ値や式を表す。"),n("br"),s._v("\n述語 (Predicates)")]),s._v(" "),n("li",[s._v("論理演算の結果(true/false/unknown)を返す。")]),s._v(" "),n("li",[s._v("条件式の中などで使用。"),n("br"),s._v("\n演算子 (operator)\n関数 (function)")])]),s._v(" "),n("h2",{attrs:{id:"select-statement-clause"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#select-statement-clause"}},[s._v("#")]),s._v(" SELECT (statement, clause)")]),s._v(" "),n("p",[s._v("列を選択し結果セットとして返す。"),n("br"),s._v("\n単に重複を除いた結果をそのまま出すだけの場合はDISTINCT,まとめた結果に対して何らかの処理を加える必要がある場合はGROUP BYを用いる。")]),s._v(" "),n("h3",{attrs:{id:"from-clause"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#from-clause"}},[s._v("#")]),s._v(" FROM (clause)")]),s._v(" "),n("p",[s._v("どのテーブルからもデータを問い合わせない場合、SELECT文のFROM句を省略することができまる。"),n("br"),s._v("\nFROM ⇒ SELECT")]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n   first_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   last_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   email\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n   customer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* \n  アスタリスク「*」の使用\n  すべての列の省略形を表す。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" customer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  PostgreSQL：連結演算子「||」の使用\n  顧客の名,スペース,性を連結する。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n   first_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" last_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   email\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" \n   customer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("h3",{attrs:{id:"列エイリアスas-clause"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#列エイリアスas-clause"}},[s._v("#")]),s._v(" 列エイリアスAS (clause)")]),s._v(" "),n("p",[s._v("クエリ実行中に列に一時的な名前を割り当てる。"),n("br"),s._v("\n※ASは省略可")]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n   first_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n   last_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" surname\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" customer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  ASは省略可能\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n   first_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n   last_name surname\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" customer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  式を含む列にも同様に名前を割り当て可能\n  省略も可\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    first_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" last_name "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"full name"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    customer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h3",{attrs:{id:"order-by-clause"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#order-by-clause"}},[s._v("#")]),s._v(" ORDER BY (clause)")]),s._v(" "),n("p",[s._v("SELECT句から返す結果セットを並べ替える。"),n("br"),s._v("\nSELECT句に列エイリアスが存在する場合はそれを使用できる。"),n("br"),s._v("\nFROM ⇒ SELECT ⇒ ORDER BY の順で評価される。")]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  ASC:昇順(省略できる)\n  DESC:降順\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tfirst_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tlast_name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tcustomer\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tfirst_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ASC")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tlast_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  LENGTH関数\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n\tfirst_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tLENGTH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("first_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" len\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tcustomer\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" \n\tlen "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("h3",{attrs:{id:"distinct-clause-operator"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#distinct-clause-operator"}},[s._v("#")]),s._v(" DISTINCT (clause, operator)")]),s._v(" "),n("p",[s._v("SELECT句の結果セットから重複行を削除する。"),n("br"),s._v("\n重複のグループごとに1つの行を保持し、SELECT句の1つ以上の列に適用できる。"),n("br"),s._v("\nPostgreSQLはDISTINCT ON (expression) 構文を使用して、重複の各グループの「最初の」行を保持することもできる。"),n("br"),s._v("\nSELECT句から返される行の順序は指定されていないため、複製の各グループの「最初の」行も指定されていません。"),n("br"),s._v("\n結果セットを予測可能にするために、常にORDER BY句を使用DISTINCT ON(expression)する。")]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  複数の列を指定した場合、\n  DISTINCT句は列の値の組み合わせに基づいて重複を評価する\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v("\n    bcolor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    fcolor\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tdistinct_demo\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tbcolor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  PostgreSQL：DISTINCT ON (expression)\n  bcolorの重複グループの最初の行にあるbcolor, fcolorを結果セットとする。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bcolor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" bcolor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tfcolor\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tdistinct_demo \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tbcolor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tfcolor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("h3",{attrs:{id:"where-clause"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#where-clause"}},[s._v("#")]),s._v(" WHERE (clause)")]),s._v(" "),n("p",[s._v("SELECTで評価される行をフィルタリングするための条件を指定する。"),n("br"),s._v("\nWHERE句は、SELECT文のFROM句の直後に記述する。"),n("br"),s._v("\n条件はtrue, false, unknownのいずれかに評価されなければならず、AND および OR 演算子を使用したブールを返す式の組み合わせになる。"),n("br"),s._v("\n条件が真と評価される行のみを結果セットとする。"),n("br"),s._v("\nFROM ⇒ WHERE ⇒ SELECT ⇒ ORDER BY"),n("br"),s._v("\nSELECT句で列エイリアスを使用する場合、WHERE句では使用できません。"),n("br"),s._v("\nSELECT 文以外にも、UPDATE 文および DELETE 文で WHERE 句を使用して、更新または削除する行を指定することができます。"),n("br"),s._v("\n比較演算子, 論理演算子の使用")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("比較,論理演算子")]),s._v(" "),n("th",[s._v("概要")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("=")]),s._v(" "),n("td",[s._v("等しい")])]),s._v(" "),n("tr",[n("td",[s._v(">")]),s._v(" "),n("td",[s._v("右オペランドより大きい")])]),s._v(" "),n("tr",[n("td",[s._v("<")]),s._v(" "),n("td",[s._v("右オペランドより小さい")])]),s._v(" "),n("tr",[n("td",[s._v(">=")]),s._v(" "),n("td",[s._v("右オペランド以上")])]),s._v(" "),n("tr",[n("td",[s._v("<=")]),s._v(" "),n("td",[s._v("右オペランド以下")])]),s._v(" "),n("tr",[n("td",[s._v("<> or !=")]),s._v(" "),n("td",[s._v("等しくない")])]),s._v(" "),n("tr",[n("td",[s._v("AND")]),s._v(" "),n("td",[s._v("論理演算子 AND")])]),s._v(" "),n("tr",[n("td",[s._v("OR")]),s._v(" "),n("td",[s._v("論理演算子 OR")])]),s._v(" "),n("tr",[n("td",[s._v("IN")]),s._v(" "),n("td",[s._v("値がリスト内のいずれかの値に一致した場合に真を返します。")])]),s._v(" "),n("tr",[n("td",[s._v("BETWEEN")]),s._v(" "),n("td",[s._v("値が値の範囲の間にある場合は真を返します。")])]),s._v(" "),n("tr",[n("td",[s._v("LIKE")]),s._v(" "),n("td",[s._v("値がパターンにマッチした場合に真を返します。"),n("br"),s._v("（%）は、0文字以上の任意文字に一致"),n("br"),s._v("（_）は、任意の1文字に一致")])]),s._v(" "),n("tr",[n("td",[s._v("IS NULL")]),s._v(" "),n("td",[s._v("値がNULLの場合は真を返します。")])]),s._v(" "),n("tr",[n("td",[s._v("NOT")]),s._v(" "),n("td",[s._v("他の演算子の真偽値を入れ替える。")])])])]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  OR演算子の使用\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tfirst_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tlast_name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tcustomer\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v("\n\tlast_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Rodriguez'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" \n\tfirst_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Adam'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  IN演算子の使用\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tfirst_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tlast_name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tcustomer\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" \n\tfirst_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Ann'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Anne'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Annie'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  LIKE演算子, BETWEEN演算子の使用\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tfirst_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tLENGTH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("first_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" name_length\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tcustomer\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" \n\tfirst_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'A%'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v("\n\tLENGTH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("first_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("BETWEEN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tname_length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  サブクエリとIN演算子の使用\n  CASTで「日付 + 時刻両方」⇒「日付」に変換している。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tcustomer_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tfirst_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tlast_name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tcustomer\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v("\n\tcustomer_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" customer_id\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" rental\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" CAST "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("return_date "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2005-05-27'")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" customer_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br")])]),n("h3",{attrs:{id:"limit-clause-limit-offset-clause"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#limit-clause-limit-offset-clause"}},[s._v("#")]),s._v(" LIMIT(clause), LIMIT OFFSET(clause)")]),s._v(" "),n("p",[s._v("クエリが返す行数を制限する。"),n("br"),s._v("\n指定値が0の場合、クエリは空の集合を返す。"),n("br"),s._v("\nNULLの場合クエリはLIMIT句を持たないため、同じ結果セットを返します。"),n("br"),s._v("\n指定値を返す前に行数を飛ばしたい場合は、LIMIT句の後にOFFSET句を使用します。"),n("br"),s._v("\n行の順序を制御するために必ずORDER BY句を使用しなければならない。"),n("br"),s._v("\nまた、LIMIT句は、MySQL、H2、HSQLDBなどの多くのリレーショナルデータベース管理システムで広く使用されているが、SQL標準ではない。"),n("br"),s._v("\nSQL標準に準拠するために、PostgreSQLはFETCHクエリによって返される行数を取得する句をサポートしている。(次項)")]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tfilm_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttitle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\trelease_year\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tfilm\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tfilm_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OFFSET")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h3",{attrs:{id:"fetch-clause-offset-fetch-clause"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#fetch-clause-offset-fetch-clause"}},[s._v("#")]),s._v(" FETCH (clause), OFFSET FETCH (clause)")]),s._v(" "),n("p",[s._v("クエリによって返された行の一部を取得する。"),n("br"),s._v("\n行の順序を制御するために必ずORDER BY句を使用しなければならない。")]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  タイトルで昇順でソートされた映画の最初の10行を結果セットとする。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    film_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    title\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    film\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n    title \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FETCH")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FIRST")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ROW")]),s._v(" ONLY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  OFFSETの使用\n  タイトルで昇順ソートされた映画の5～10行目の映画を結果セットとする。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    film_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    title\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    film\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n    title \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OFFSET")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ROWS")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FETCH")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FIRST")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ROW")]),s._v(" ONLY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("h3",{attrs:{id:"join系"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#join系"}},[s._v("#")]),s._v(" JOIN系")]),s._v(" "),n("p",[s._v("PostgreSQLは、内部結合、左結合、右結合、完全外部結合、クロス結合、自然結合、および自己結合と呼ばれる特別な種類の結合をサポートしている。"),n("br"),s._v("\nそれぞれ関連テーブル間の共通カラムの値に基づいて、1つ以上のテーブルからのカラムを結合するために使用される。"),n("br"),s._v("\n↓内部, 外部, 完全結合"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/PostgreSQL-Joins-768x465.png",alt:"An image"}})]),s._v(" "),n("h4",{attrs:{id:"inner-join句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#inner-join句"}},[s._v("#")]),s._v(" INNER JOIN句")]),s._v(" "),n("p",[s._v("INNER JOINは、最初のテーブル( basket_a)を取得し、fruit_a列と次のテーブル( basket_b)のfruit_b列を順に比較します。値が一致した両方のテーブルの列を含む新しい行を作成し、結果セットに追加します。\n"),n("img",{attrs:{src:"/sqljoinimages/PostgreSQL-Join-Inner-Join.png",alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SELECT * FROM basket_a;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  a | fruit_a")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---+----------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  1 | Apple")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2 | Orange")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  3 | Banana")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  4 | Cucumber")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# インデックス:")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#     "basket_a_pkey" PRIMARY KEY, btree (a)')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SELECT * FROM basket_b;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  b |  fruit_b")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---+------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  1 | Orange")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2 | Apple")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  3 | Watermelon")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  4 | Pear")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# インデックス:")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#     "basket_b_pkey" PRIMARY KEY, btree (b)')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    fruit_a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    fruit_b\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    basket_a\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" basket_b\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" fruit_a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fruit_b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  a | fruit_a | b | fruit_b")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---+---------+---+---------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  1 | Apple   | 2 | Apple")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2 | Orange  | 1 | Orange")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br")])]),n("p",[s._v("サンプルDBでの3テーブルのINNER JOIN"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/customer-payment-staff-tables.png",alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  支払い履歴を調べる\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("first_name customer_first_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("last_name customer_last_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("first_name staff_first_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("last_name staff_last_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tamount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tpayment_date\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tcustomer c\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" payment p \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" p"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" staff s \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" p"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("staff_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("staff_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" payment_date\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  customer_id | customer_first_name | customer_last_name | staff_first_name | staff_last_name | amount |        payment_date")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------------+---------------------+--------------------+------------------+-----------------+--------+----------------------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          416 | Jeffery             | Pinson             | Jon              | Stephens        |   2.99 | 2007-02-14 21:21:59.996577")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          516 | Elmer               | Noe                | Jon              | Stephens        |   4.99 | 2007-02-14 21:23:39.996577")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          239 | Minnie              | Romero             | Mike             | Hillyer         |   4.99 | 2007-02-14 21:29:00.996577")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          592 | Terrance            | Roush              | Jon              | Stephens        |   6.99 | 2007-02-14 21:41:12.996577")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#           49 | Joyce               | Edwards            | Mike             | Hillyer         |   0.99 | 2007-02-14 21:44:52.996577")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          264 | Gwendolyn           | May                | Jon              | Stephens        |   3.99 | 2007-02-14 21:44:53.996577")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#           46 | Catherine           | Campbell           | Mike             | Hillyer         |   4.99 | 2007-02-14 21:45:29.996577")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          481 | Herman              | Devore             | Jon              | Stephens        |   2.99 | 2007-02-14 22:03:35.996577")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          139 | Amber               | Dixon              | Jon              | Stephens        |   2.99 | 2007-02-14 22:11:22.996577")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          595 | Terrence            | Gunderson          | Jon              | Stephens        |   2.99 | 2007-02-14 22:16:01.996577")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("h4",{attrs:{id:"left-join句-left-outer-join句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#left-join句-left-outer-join句"}},[s._v("#")]),s._v(" LEFT JOIN句 (LEFT OUTER JOIN句)")]),s._v(" "),n("p",[s._v("LEFT JOINは、左テーブル( basket_a)からデータを取得し、fruit_a列の値と、 右テーブル（basket_b）のfruit_b列の値を順に比較します。"),n("br"),s._v("\n値が一致した場合、LEFT JOINは両方のテーブルの列を含む新しい行を作成し、この新しい行を結果セットに追加します。(結果セットの行#1と#2を参照)。"),n("br"),s._v("\n値が一致しない場合も、同様に新しい行を作成し結果セットに追加します。しかし、右のテーブル( basket_b)の列をnullで埋めます。(結果セットの行#3と#4を参照してください)。"),n("br"),s._v("\nLEFT JOINとLEFT OUTER JOINは同義。"),n("br"),s._v("\nRIGHT JOINは逆の動作をする。"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/PostgreSQL-Join-Left-Join.png",alt:"An image"}}),n("br"),s._v("\n↓左テーブルのみに存在する行を選択した場合"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/PostgreSQL-Join-Left-Join-with-Where.png",alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SELECT * FROM basket_a;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  a | fruit_a")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---+----------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  1 | Apple")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2 | Orange")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  3 | Banana")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  4 | Cucumber")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# インデックス:")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#     "basket_a_pkey" PRIMARY KEY, btree (a)')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SELECT * FROM basket_b;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  b |  fruit_b")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---+------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  1 | Orange")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2 | Apple")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  3 | Watermelon")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  4 | Pear")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# インデックス:")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#     "basket_b_pkey" PRIMARY KEY, btree (b)')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    fruit_a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    fruit_b\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    basket_a\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" basket_b \n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" fruit_a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fruit_b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  a | fruit_a  | b | fruit_b")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---+----------+---+---------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  1 | Apple    | 2 | Apple")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2 | Orange   | 1 | Orange")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  3 | Banana   |   | ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  4 | Cucumber |   |")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  左テーブルのみに存在する行を結果セットとする。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    fruit_a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    fruit_b\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    basket_a\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" basket_b \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" fruit_a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fruit_b\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  a | fruit_a  | b | fruit_b")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---+----------+---+---------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  3 | Banana   |   |")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  4 | Cucumber |   |")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br")])]),n("p",[s._v("サンプルDBでの3テーブルのLEFT JOIN"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/film-and-inventory-tables.png",alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  DVDの在庫を調べる\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tfilm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("film_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttitle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tinventory_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tfilm\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" inventory \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" inventory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("film_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" film"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("film_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  在庫のないDVDを調べる\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("film_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttitle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tinventory_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tfilm f\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" inventory i\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("film_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("film_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("film_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("h4",{attrs:{id:"full-outer-join句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#full-outer-join句"}},[s._v("#")]),s._v(" FULL OUTER JOIN句")]),s._v(" "),n("p",[s._v("完全外部結合または完全結合は、左右両方のテーブルのすべての行を含む結果セットを返す。"),n("br"),s._v("\n一致する行がない場合、テーブルの列はNULLで埋める。"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/PostgreSQL-Join-Full-Outer-Join.png",alt:"An image"}}),n("br"),s._v("\n↓各テーブルにのみ存在する行を選択した場合"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/PostgreSQL-Join-Full-Outer-Join-with-Where.png",alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SELECT * FROM basket_a;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  a | fruit_a")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---+----------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  1 | Apple")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2 | Orange")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  3 | Banana")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  4 | Cucumber")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# インデックス:")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#     "basket_a_pkey" PRIMARY KEY, btree (a)')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SELECT * FROM basket_b;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  b |  fruit_b")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---+------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  1 | Orange")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2 | Apple")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  3 | Watermelon")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  4 | Pear")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# インデックス:")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#     "basket_b_pkey" PRIMARY KEY, btree (b)')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    fruit_a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    fruit_b\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    basket_a\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FULL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OUTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" basket_b \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" fruit_a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fruit_b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  a | fruit_a  | b |  fruit_b")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---+----------+---+------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  1 | Apple    | 2 | Apple")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2 | Orange   | 1 | Orange")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  3 | Banana   |   |")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  4 | Cucumber |   | ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    |          | 3 | Watermelon")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    |          | 4 | Pear")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  各テーブルにのみ存在する行を結果セットとする。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    fruit_a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    fruit_b\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    basket_a\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FULL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" basket_b \n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" fruit_a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fruit_b\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  a | fruit_a  | b |  fruit_b")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---+----------+---+------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  3 | Banana   |   |")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  4 | Cucumber |   |")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    |          | 3 | Watermelon")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    |          | 4 | Pear")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br")])]),n("h4",{attrs:{id:"self-join"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#self-join"}},[s._v("#")]),s._v(" SELF JOIN")]),s._v(" "),n("p",[s._v("階層的なデータを問い合わせたり、同じテーブル内の行を比較したりするために自己結合を使用する。"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/film_table.png",alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  同じ長さの映画のすべての組み合わせを検索調べる。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    f1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    f2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    f1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    film f1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" film f2 \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" f1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("film_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<>")]),s._v(" f2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("film_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" \n       f1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" f2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h4",{attrs:{id:"cross-join句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cross-join句"}},[s._v("#")]),s._v(" CROSS JOIN句")]),s._v(" "),n("p",[s._v("2つの以上のテーブル内の行の積集合を求める為に使用する。"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/PostgreSQL-CROSS-JOIN-illustration.png",alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" T1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CROSS")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" T2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# label | score")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------+-------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  A     |     1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  B     |     1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  A     |     2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  B     |     2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  A     |     3")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  B     |     3")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h3",{attrs:{id:"テーブルエイリアスas-clause"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#テーブルエイリアスas-clause"}},[s._v("#")]),s._v(" テーブルエイリアスAS (clause)")]),s._v(" "),n("p",[s._v("クエリの実行中にテーブルに新しい名前を一時的に割り当てる。"),n("br"),s._v("\n※ASは省略可"),n("br"),s._v("\nJOIN句を使用して、同じ列名を持つ複数のテーブルからデータをクエリする場合、複数のテーブルに由来する同じ列名を完全に修飾(table_name.column_name)せずに使用すると、エラーが発生する。"),n("br"),s._v("\nその場合FROMおよびJOIN句でテーブル名のテーブルエイリアスを使用する。")]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  JOINでのテーブルエイリアスの使用\n  クエリの見通しを良くする\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tfirst_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tamount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tpayment_date\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tcustomer c\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" payment p \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" p"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" \n   payment_date "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  自己結合\n  同じクエリでテーブルを2回参照する\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("first_name employee"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    m "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("first_name manager\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    employee e\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" employee m \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("employee_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("manager_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" manager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("h3",{attrs:{id:"group-by-clause"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#group-by-clause"}},[s._v("#")]),s._v(" GROUP BY (clause)")]),s._v(" "),n("p",[s._v("行をグループに分割する。"),n("br"),s._v("\nGROUP BY句は集計関数と共に使用できるが、集計関数の使用は必須ではない。"),n("br"),s._v("\nサンプルDBのpaymentテーブルでの例"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/payment.png",alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  SUM関数の使用\n  各顧客の支払い合計金額を調べる。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tcustomer_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tpayment\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tcustomer_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  customer_id |  sum")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------------+--------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          148 | 211.55")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          526 | 208.58")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          178 | 194.61")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          137 | 191.62")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          144 | 189.60")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          459 | 183.63")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          181 | 167.67")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          410 | 167.62")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          236 | 166.61")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          403 | 162.67")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  JOINと共に使用する。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tfirst_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" last_name full_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" amount\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tpayment\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" customer "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("customer_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    \t\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tfull_name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     full_name    | amount")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -----------------+--------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Brian Wyman     |  27.93")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Leona Obrien    |  32.90")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Caroline Bowman |  37.87")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Anthony Schwab  |  47.85")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Tiffany Jordan  |  49.88")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Kirk Stclair    |  50.83")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Bobbie Craig    |  52.81")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Jo Fowler       |  54.85")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Penny Neal      |  56.84")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Johnny Turpin   |  57.81")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  COUNT関数の使用\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tstaff_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("payment_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tpayment\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tstaff_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  staff_id | count")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#----------+-------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        1 |  7292")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        2 |  7304")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  複数列での使用\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n\tcustomer_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tstaff_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" \n\tpayment\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" \n\tstaff_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tcustomer_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" \n    customer_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  customer_id | staff_id |  sum")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------------+----------+-------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            1 |        1 | 60.85")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            1 |        2 | 53.85")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            2 |        1 | 55.86")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            2 |        2 | 67.88")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            3 |        1 | 59.88")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            3 |        2 | 70.88")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            4 |        1 | 49.88")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            4 |        2 | 31.90")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            5 |        1 | 63.86")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            5 |        2 | 70.79")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br")])]),n("h4",{attrs:{id:"grouping-sets"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#grouping-sets"}},[s._v("#")]),s._v(" GROUPING SETS")]),s._v(" "),n("p",[s._v("GROUPING SETSを使用すると、1つのクエリで複数のグループ化セットを定義することができる。"),n("br"),s._v("\nまず下記のコードブロックに示すように、GROUP BY句の意味をもう一度考える。"),n("br"),s._v("\n次のコードブロックまで飛ばしてもOK")]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  brand | segment | quantity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------+---------+----------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Premium |      100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Basic   |      200")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Premium |      100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Basic   |      300")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  ブランドで販売されている製品の数を返す。\n  (brandのグループを定義している)\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    sales\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n    brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  brand | sum")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------+-----")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | 300")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | 400")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  すべてのブランドとセグメントで販売された製品の数を返す。\n  (空のグループを定義している)\n*/")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" sales"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  sum")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -----")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  700")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n1つクエリをで、複数のグループ化セットを取得する。\nこれを実現するには、UNION ALLを使用して上記のすべてのクエリを組み合わせる。\nUNION ALLでは、すべての結果セットが互換性のあるデータ型で同じ数の列を持つ必要があるため、\n以下のようにそれぞれの選択リストにNULLを追加してクエリを調整する必要があります。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    sales\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n    brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    segment\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    sales\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n    brand\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    sales\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n    segment\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    sales"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  brand | segment | sum")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------+---------+-----")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Basic   | 300")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Premium | 100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Basic   | 200")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Premium | 100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   |         | 300")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   |         | 400")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        | Basic   | 500")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        | Premium | 200")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        |         | 700")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br")])]),n("p",[s._v("このようにUNION ALL等を使用して、複数にグループを1つのクエリで取得する場合、")]),s._v(" "),n("ul",[n("li",[s._v("クエリが長くなる。")]),s._v(" "),n("li",[s._v("UNION前のクエリ毎にテーブルをスキャンしなければならないため、パフォーマンスの問題が生じる。"),n("br"),s._v("\nこれらの問題を解決し、より効率的にするためにGROUP BY句のサブ句であるGROUPING SETS句が存在する。"),n("br"),s._v("\n前述の通り、GROUPING SETSを使用すると、1つのクエリで複数のグループ化セットを定義することができる。")])]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  brand | segment | quantity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------+---------+----------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Premium |      100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Basic   |      200")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Premium |      100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Basic   |      300")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  \n  複数のグループ化セットを取得する。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    sales\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n    GROUPING SETS "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  brand | segment | sum")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------+---------+-----")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        |         | 700")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Basic   | 300")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Premium | 100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Basic   | 200")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Premium | 100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   |         | 300")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   |         | 400")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        | Basic   | 500")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        | Premium | 200")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br")])]),n("h4",{attrs:{id:"grouping-function"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#grouping-function"}},[s._v("#")]),s._v(" GROUPING (function)")]),s._v(" "),n("p",[s._v("列名または式を受け入れ、GROUP BY 節で指定されたものと一致する必要がある。"),n("br"),s._v("\n引数が現在のグループ化セットのメンバであればビット 0 を返し、そうでなければビット 1 を返す。"),n("br"),s._v("\nHAVING句でGROUPING関数を使うと、各ブランドの小計を見つけることができます。")]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  GROUPING関数の使用\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tGROUPING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" grouping_brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tGROUPING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" grouping_segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tbrand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tsegment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tsales\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tGROUPING SETS "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tbrand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tsegment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  grouping_brand | grouping_segment | brand | segment | sum")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ----------------+------------------+-------+---------+-----")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#               0 |                1 | ABC   |         | 300")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#               0 |                1 | XYZ   |         | 400")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#               1 |                0 |       | Basic   | 500")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#               1 |                0 |       | Premium | 200")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#               1 |                1 |       |         | 700")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  HAVING句でのGROUPING関数の使用\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tGROUPING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" grouping_brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tGROUPING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" grouping_segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tbrand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tsegment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tsales\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tGROUPING SETS "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v(" GROUPING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\t\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tbrand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tsegment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  grouping_brand | grouping_segment | brand | segment | sum")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ----------------+------------------+-------+---------+-----")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#               0 |                1 | ABC   |         | 300")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#               0 |                1 | XYZ   |         | 400")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br")])]),n("h4",{attrs:{id:"cube"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cube"}},[s._v("#")]),s._v(" CUBE")]),s._v(" "),n("p",[s._v("GROUP BY句のサブ句です。"),n("br"),s._v("\nCUBEを使用すると、複数のグループ化セットを生成することができます。"),n("br"),s._v("\n最初に、SELECT 文の GROUP BY 節で CUBE サブ句を指定します。"),n("br"),s._v("\n2 番目に、SELECT リストで、分析する列 (ディメンジョンまたはディメンジョン列) と集計関数式を指定します。"),n("br"),s._v("\n3 番目に、GROUP BY 節で、CUBE サブ句の括弧内のディメンジョン・カラムを指定します。"),n("br"),s._v("\nクエリは、CUBE で指定されたディメンジョン列に基づいて、可能なすべてのグループ化セットを生成します。"),n("br"),s._v("\n一般的に、CUBEで指定した列の数をn個とすると、2^n個の組み合わせになります。"),n("br"),s._v("\n下記は同じ意味を表します。")]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("CUBE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n\nGROUPING SETS "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  brand | segment | quantity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------+---------+----------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Premium |      100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Basic   |      200")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Premium |      100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Basic   |      300")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    sales\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n    CUBE "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n    brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  brand | segment | sum")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------+---------+-----")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Basic   | 200")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Premium | 100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   |         | 300")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Basic   | 300")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Premium | 100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   |         | 400")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        | Basic   | 500")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        | Premium | 200")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        |         | 700")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("h4",{attrs:{id:"rollup"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#rollup"}},[s._v("#")]),s._v(" ROLLUP")]),s._v(" "),n("p",[s._v("GROUP BY句のサブ句です。"),n("br"),s._v("\nROLLUPを使用すると、複数のグループ化セットを生成することができます。"),n("br"),s._v("\nCUBEサブ句とは異なり、ROLLUPは指定された列に基づいて可能なすべてのグループ化セットを生成しません。"),n("br"),s._v("\n選択列のサブセットを作成するだけです。"),n("br"),s._v("\n入力カラム間の階層を想定し、その階層を考慮して意味のあるすべてのグループ化セットを生成します。"),n("br"),s._v("\nROLLUPがレポートの小計や総計を生成するのによく使われる理由です。"),n("br"),s._v("\nROLLUPの一般的な使用法は、年>月>日の階層を考慮して、年、月、日ごとのデータの集計を計算することです。"),n("br"),s._v("\n下記は同じ意味を表します。")]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("ROLLUP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nGROUPING SETS "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("サンプルテーブルsalesの例"),n("br"),s._v("\n出力を見るとよくわかるように、3列目はABCブランドの売上高、6列目はXYZブランドの売上高を表示しています。"),n("br"),s._v("\n最後の行は、すべてのブランドとセグメントの合計を表示しています。"),n("br"),s._v("\nこの例では、ブランド > セグメントという階層になっています。")]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  brand | segment | quantity")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------+---------+----------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Premium |      100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  ABC   | Basic   |      200")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Premium |      100")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  XYZ   | Basic   |      300")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("quantity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    sales\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n    ROLLUP "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n    brand"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    segment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("サンプルDB、rentalテーブルでの例"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/rental.png",alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  ROLLUPを使って1日、1ヶ月、1年あたりのレンタル数を求めます。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n    EXTRACT "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("YEAR")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" rental_date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    EXTRACT "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MONTH")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" rental_date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" M"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    EXTRACT "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DAY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" rental_date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rental_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n    rental\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n    ROLLUP "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        EXTRACT "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("YEAR")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" rental_date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        EXTRACT "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MONTH")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" rental_date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        EXTRACT "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DAY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" rental_date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   y   | m | d  | count")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ------+---+----+-------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2005 | 5 | 24 |     8")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2005 | 5 | 25 |   137")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2005 | 5 | 26 |   174")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2005 | 5 | 27 |   166")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2005 | 5 | 28 |   196")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2005 | 5 | 29 |   154")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2005 | 5 | 30 |   158")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2005 | 5 | 31 |   163")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2005 | 5 |    |  1156")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2005 | 6 | 14 |    16")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  2005 | 6 | 15 |   348")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])]),n("h3",{attrs:{id:"having-clause"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#having-clause"}},[s._v("#")]),s._v(" HAVING (clause)")]),s._v(" "),n("p",[s._v("グループや集計の検索条件を指定する。"),n("br"),s._v("\nWHERE ⇒ GROUP BY ⇒ HAVING ⇒ SELECT"),n("br"),s._v("\nWHERE句は行に適用され、HAVING句は行のグループに適用される。"),n("br"),s._v("\nサンプルDBのpaymentテーブルでの例"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/payment.png",alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  200ドル以上の支出をしている顧客を調べる。\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("\n\tcustomer_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\n\tpayment\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v("\n\tcustomer_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  customer_id |  sum")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------------+--------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          526 | 208.58")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          148 | 211.55")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h3",{attrs:{id:"union-operator"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#union-operator"}},[s._v("#")]),s._v(" UNION (operator)")]),s._v(" "),n("p",[s._v("複数のクエリの結果セットを1つの結果セットに結合する。"),n("br"),s._v("\nどちらかの結果セットで利用可能な行を返す。"),n("br"),s._v("\nUNION演算子は結合された結果セットからすべての重複した行を削除するため、重複した行を保持したい場合、UNION ALLを使用する必要がある。"),n("br"),s._v("\nUNION演算子を実行するためには下記の条件を満たしている必要がある。")]),s._v(" "),n("ul",[n("li",[s._v("両方のクエリの結果セットはカラムの数と順序が同じでなければならない。")]),s._v(" "),n("li",[s._v("データ型には互換性が無ければいけない。\n最終的な結果セットの行をソートするには、2番目のクエリでORDER BY句を使用する。"),n("br"),s._v("\n完全に正規化されていない類似のテーブルからのデータを結合するためにUNION演算子を使用することがよくある。"),n("br"),s._v("\nUNIONの動作を示す。"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/PostgresQL-UNION.png",alt:"An image"}})])]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#           title           | release_year")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------------------------+--------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Shawshank Redemption |         1994")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Godfather            |         1972")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  12 Angry Men             |         1957")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#         title        | release_year")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------------------+--------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  An American Pickle |         2020")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Godfather      |         1972")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Greyhound          |         2020")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  UNION演算子の使用\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" top_rated_films\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" most_popular_films"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#           title           | release_year")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------------------------+--------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  An American Pickle       |         2020")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Greyhound                |         2020")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Shawshank Redemption |         1994")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Godfather            |         1972")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  12 Angry Men             |         1957")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  UNION ALL演算子の使用\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" top_rated_films\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" most_popular_films\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#           title           | release_year")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------------------------+--------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  12 Angry Men             |         1957")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  An American Pickle       |         2020")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Greyhound                |         2020")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Godfather            |         1972")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Godfather            |         1972")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Shawshank Redemption |         1994")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br")])]),n("h3",{attrs:{id:"intersect-operator"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#intersect-operator"}},[s._v("#")]),s._v(" INTERSECT (operator)")]),s._v(" "),n("p",[s._v("複数のクエリの結果セットを1つの結果セットに結合する。"),n("br"),s._v("\n両方の結果セットで利用可能な行を返す。"),n("br"),s._v("\nINTERSECT演算子を実行するためには下記の条件を満たしている必要がある。")]),s._v(" "),n("ul",[n("li",[s._v("両方のクエリの結果セットはカラムの数と順序が同じでなければならない。")]),s._v(" "),n("li",[s._v("データ型には互換性が無ければいけない。\nINTERSECTの動作を示す。"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/PostgreSQL-INTERSECT-Operator-300x206.png",alt:"An image"}}),n("br"),s._v("\n最終的な結果セットの行をソートするには、2番目のクエリでORDER BY句を使用する。")])]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#           title           | release_year")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------------------------+--------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Shawshank Redemption |         1994")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Godfather            |         1972")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  12 Angry Men             |         1957")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#         title        | release_year")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------------------+--------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  An American Pickle |         2020")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Godfather      |         1972")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Greyhound          |         2020")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  INTERSECT演算子の使用\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" most_popular_films \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTERSECT")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" top_rated_films"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      title     | release_year")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---------------+--------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Godfather |         1972")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("h3",{attrs:{id:"except"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#except"}},[s._v("#")]),s._v(" EXCEPT")]),s._v(" "),n("p",[s._v("複数のクエリの結果セットを1つの結果セットに結合する。"),n("br"),s._v("\n最初の結果セットに存在し、2番目の結果セットに存在しない行を返す。"),n("br"),s._v("\nEXCEPTの動作を示す。"),n("br"),s._v(" "),n("img",{attrs:{src:"/sqljoinimages/PostgreSQL-EXCEPT-300x202.png",alt:"An image"}})]),s._v(" "),n("div",{staticClass:"language-SQL line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#           title           | release_year")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------------------------+--------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Shawshank Redemption |         1994")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Godfather            |         1972")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  12 Angry Men             |         1957")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#         title        | release_year")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------------------+--------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  An American Pickle |         2020")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Godfather      |         1972")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Greyhound          |         2020")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  EXCEPT演算子の使用\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" top_rated_films\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXCEPT")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" most_popular_films\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#           title           | release_year")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------------------------+--------------")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  12 Angry Men             |         1957")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  The Shawshank Redemption |         1994")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);